<div class="proveedores-container">
  <div class="page-header">
    <h1 class="page-title">Listado de proveedores</h1>
    <div class="action-buttons">
      <button
        mat-raised-button
        color="primary"
        (click)="abrirNuevoProveedor()"
        class="btn-agregar"
      >
        <mat-icon>add_circle_outline</mat-icon>
        Agregar proveedor
      </button>
    </div>
  </div>

  <!-- Filtros de búsqueda -->
  <mat-card class="filtros-card">
    <form [formGroup]="filtrosForm" (ngSubmit)="buscar()" class="filtros-form">
      <div class="filtros-row">
        <mat-form-field appearance="outline" class="filtro-field">
          <mat-label>Código</mat-label>
          <input
            matInput
            formControlName="codigo"
            placeholder="Ingresa el código"
          />
        </mat-form-field>

        <mat-form-field appearance="outline" class="filtro-field">
          <mat-label>RUC</mat-label>
          <input
            matInput
            formControlName="ruc"
            placeholder="Ingresa la descripción"
          />
        </mat-form-field>

        <mat-form-field appearance="outline" class="filtro-field">
          <mat-label>Razón social</mat-label>
          <input
            matInput
            formControlName="razon_social"
            placeholder="Ingresa el nombre de proveedor"
          />
        </mat-form-field>

        <div class="filtro-buttons">
          <button
            mat-raised-button
            color="primary"
            type="submit"
            class="btn-buscar"
          >
            Buscar
          </button>
        </div>
      </div>
    </form>
  </mat-card>

  <!-- Tabla de proveedores -->
  <mat-card class="tabla-card">
    <div class="table-container">
      <table mat-table [dataSource]="proveedores" class="proveedores-table">
        <!-- Columna Código -->
        <ng-container matColumnDef="codigo">
          <th mat-header-cell *matHeaderCellDef>Código</th>
          <td mat-cell *matCellDef="let proveedor">
            {{ formatearCodigo(proveedor.id_proveedor) }}
          </td>
        </ng-container>

        <!-- Columna RUC -->
        <ng-container matColumnDef="ruc">
          <th mat-header-cell *matHeaderCellDef>RUC</th>
          <td mat-cell *matCellDef="let proveedor">
            {{ proveedor.ruc || '-' }}
          </td>
        </ng-container>

        <!-- Columna Razón social -->
        <ng-container matColumnDef="razon_social">
          <th mat-header-cell *matHeaderCellDef>Razón social</th>
          <td mat-cell *matCellDef="let proveedor">{{ proveedor.empresa }}</td>
        </ng-container>

        <!-- Columna Dirección -->
        <ng-container matColumnDef="direccion">
          <th mat-header-cell *matHeaderCellDef>Dirección</th>
          <td mat-cell *matCellDef="let proveedor">
            {{ proveedor.direccion || '-' }}
          </td>
        </ng-container>

        <!-- Columna Representante -->
        <ng-container matColumnDef="representante">
          <th mat-header-cell *matHeaderCellDef>Representante</th>
          <td mat-cell *matCellDef="let proveedor">
            {{ proveedor.contacto || '-' }}
          </td>
        </ng-container>

        <!-- Columna Teléfono -->
        <ng-container matColumnDef="telefono">
          <th mat-header-cell *matHeaderCellDef>Teléfono</th>
          <td mat-cell *matCellDef="let proveedor">
            {{ proveedor.telefono || '234 837' }}
          </td>
        </ng-container>

        <!-- Columna Correo -->
        <ng-container matColumnDef="correo">
          <th mat-header-cell *matHeaderCellDef>Correo</th>
          <td mat-cell *matCellDef="let proveedor">
            {{ proveedor.email || 'empresa@mail.com' }}
          </td>
        </ng-container>

        <!-- Columna Acciones -->
        <ng-container matColumnDef="acciones">
          <th mat-header-cell *matHeaderCellDef>Acciones</th>
          <td mat-cell *matCellDef="let proveedor">
            <button
              mat-icon-button
              (click)="verDetalle(proveedor)"
              class="btn-ver"
              matTooltip="Ver detalle"
            >
              <mat-icon class="icon-ver">visibility</mat-icon>
            </button>
            <button
              mat-icon-button
              (click)="editarProveedor(proveedor)"
              class="btn-editar"
              matTooltip="Editar"
            >
              <mat-icon class="icon-editar">edit</mat-icon>
            </button>
          </td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
      </table>
    </div>

    <!-- Paginación -->
    <div class="pagination-container">
      <span class="pagination-info">Página 1 de 10</span>
      <div class="pagination-buttons">
        <button mat-icon-button>
          <mat-icon>chevron_left</mat-icon>
        </button>
        <button mat-icon-button>
          <mat-icon>chevron_right</mat-icon>
        </button>
      </div>
    </div>
  </mat-card>
</div>
