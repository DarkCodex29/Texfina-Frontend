<nav class="sidebar">
  <div class="sidebar-logo">
    <img src="assets/logo.svg" alt="Texfina Logo" />
  </div>
  <ul class="sidebar-menu">
    <li>
      <a routerLink="/dashboard" routerLinkActive="active">
        <img src="assets/icons/home.svg" class="sidebar-icon" alt="Inicio" />
        <span>Inicio</span>
      </a>
    </li>
    <li>
      <button
        class="sidebar-section"
        (click)="toggleSection('maestro')"
        (keydown.enter)="toggleSection('maestro')"
        (keydown.space)="toggleSection('maestro')"
        [attr.aria-expanded]="openSection === 'maestro'"
        aria-label="Menú Maestros"
      >
        <img src="assets/icons/master.svg" class="sidebar-icon" alt="Maestro" />
        <span>Maestros</span>
        <mat-icon class="arrow" [class.open]="openSection === 'maestro'"
          >expand_more</mat-icon
        >
      </button>
      <ul *ngIf="openSection === 'maestro'" class="sidebar-submenu">
        <li>
          <a routerLink="/dashboard/insumos" routerLinkActive="active"
            >Insumos</a
          >
        </li>
        <li>
          <a routerLink="/dashboard/proveedores" routerLinkActive="active"
            >Proveedores</a
          >
        </li>
        <li>
          <a routerLink="/dashboard/almacenes" routerLinkActive="active"
            >Almacenes</a
          >
        </li>
        <li>
          <a routerLink="/dashboard/clases" routerLinkActive="active">Clases</a>
        </li>
        <li>
          <a
            routerLink="/dashboard/unidades"
            routerLinkActive="active"
            class="sidebar-link"
          >
            <span>Unidades</span>
          </a>
        </li>
        <li>
          <a
            routerLink="/dashboard/lotes"
            routerLinkActive="active"
            class="sidebar-link"
          >
            <span>Lotes</span>
          </a>
        </li>
        <li>
          <a routerLink="/dashboard/recetas" routerLinkActive="active"
            >Recetas</a
          >
        </li>
      </ul>
    </li>
    <li>
      <button
        class="sidebar-section"
        (click)="toggleSection('movimientos')"
        (keydown.enter)="toggleSection('movimientos')"
        (keydown.space)="toggleSection('movimientos')"
        [attr.aria-expanded]="openSection === 'movimientos'"
        aria-label="Menú Movimientos"
      >
        <img
          src="assets/icons/clipboard.svg"
          class="sidebar-icon"
          alt="Movimientos"
        />
        <span>Movimientos</span>
        <mat-icon class="arrow" [class.open]="openSection === 'movimientos'"
          >expand_more</mat-icon
        >
      </button>
      <ul *ngIf="openSection === 'movimientos'" class="sidebar-submenu">
        <li>
          <a routerLink="/dashboard/ingresos" routerLinkActive="active"
            >Ingresos</a
          >
        </li>
        <li>
          <a routerLink="/dashboard/consumos" routerLinkActive="active"
            >Consumos</a
          >
        </li>
        <li>
          <a routerLink="/dashboard/lotes" routerLinkActive="active">Lotes</a>
        </li>
      </ul>
    </li>
    <li>
      <button
        class="sidebar-section"
        (click)="toggleSection('consultas')"
        (keydown.enter)="toggleSection('consultas')"
        (keydown.space)="toggleSection('consultas')"
        [attr.aria-expanded]="openSection === 'consultas'"
        aria-label="Menú Consultas"
      >
        <img src="assets/icons/file.svg" class="sidebar-icon" alt="Consultas" />
        <span>Consultas</span>
        <mat-icon class="arrow" [class.open]="openSection === 'consultas'"
          >expand_more</mat-icon
        >
      </button>
      <ul *ngIf="openSection === 'consultas'" class="sidebar-submenu">
        <li>
          <a routerLink="/dashboard/stock" routerLinkActive="active">Stock</a>
        </li>
        <li>
          <a routerLink="/dashboard/reportes" routerLinkActive="active"
            >Reportes</a
          >
        </li>
      </ul>
    </li>
    <li>
      <button
        class="sidebar-section"
        (click)="toggleSection('administracion')"
        (keydown.enter)="toggleSection('administracion')"
        (keydown.space)="toggleSection('administracion')"
        [attr.aria-expanded]="openSection === 'administracion'"
        aria-label="Menú Administración"
      >
        <img
          src="assets/icons/settings.svg"
          class="sidebar-icon"
          alt="Administración"
        />
        <span>Administración</span>
        <mat-icon class="arrow" [class.open]="openSection === 'administracion'"
          >expand_more</mat-icon
        >
      </button>
      <ul *ngIf="openSection === 'administracion'" class="sidebar-submenu">
        <li>
          <a routerLink="/dashboard/usuarios" routerLinkActive="active"
            >Usuarios</a
          >
        </li>
        <li>
          <a routerLink="/dashboard/logs" routerLinkActive="active"
            >Logs y Auditoría</a
          >
        </li>
        <li>
          <a routerLink="/dashboard/roles" routerLinkActive="active"
            >Roles y Permisos</a
          >
        </li>
        <li>
          <a routerLink="/dashboard/configuracion" routerLinkActive="active"
            >Configuración</a
          >
        </li>
      </ul>
    </li>
  </ul>
</nav>
